# Почему так трудно документировать код?

Если спросить у разработчиков, что является наиболее важным элементом документации API, то ответ будет один и тот же - это примеры кода. Примеры рабочего кода, которые разработчики могут легко скопировать и вставить в свою документацию должны включаться в API. Примеры кода, которые демонстрируют, как включить абстракции в реальную реализацию. Примеры кода, примеры приложений - что угодно. Много кода не бывает.


Ниже видео инженера Рути Бен Дор на конференции «Write the Docs». На вопрос: «Каковы три наиболее важных элемента создания документации API?», Рут ответил (на 4:15):

[![video](img/1.jpg)](https://youtu.be/oItYMZHJv3g)

> Я думаю, если вы собираетесь создавать документацию по API, есть три вещи, которые следует либо включить в нее, либо сделать в процессе ее создания. Я думаю, самое важное, если вы хотите, чтобы люди просто начали его использовать, это примеры кода. Существует множество генераторов документации API, которые будут генерировать примеры кода для вас. Иногда они не очень хороши, поэтому нужно иметь кого-то на самом деле, кто проверил бы эти примеры кода, чтобы убедиться, что они действительно работают правильно. Одно дело получить метод и то, как он вызывается, но для разработчика нужно взять его и понять, как создать рабочий код, достигнув этой конечной точки, это совершенно другое. В отличие от того, могут ли они просто копировать и вставлять в консоль браузера, чтобы доказать, что она работает для себя, это действительно хороший способ снизить барьер для входа. Примеры кода огромны, и примеры кода на разных языках, которые люди могут использовать с вашим API.

Почему инженеры постоянны в своем желании видеть код? Примеры кода показывают, как реализовать абстрактное, повествовательное объяснение фактическим способом. В этом смысле они являются чрезвычайно мощными инструментами, помогающими пользователям понять правильные действия.

Несмотря на важность примеров кода, их нелегко реализовать. По этой причине они часто игнорируются или отсутствуют в документации API. На самом деле, примеры кода могут быть самой сложной частью документации, которую должны документировать технические писатели. В этом разделе разберемся, почему документирование кода может быть сложной задачей, а затем в дополнительных темах рассмотрим конкретные стратегии для успешного включения примеров кода в документацию.

## Проблемы документирования когда

Рассмотрим несколько причин, почему документирование кода это сложная задача

- **Код требует понимания конкретного языка программирования.** Технические писатели часто не знакомы с языком программирования, или, если технические писатели знакомы с программированием, проект может быть на незнакомом языке. Таким образом, мы сразу же оказываемся в невыгодном положении и вынуждены пользоваться учебными пособиями, чтобы понять основы того, что происходит в коде. Но мы не документируем основы - мы документируем, как реализовать код в определенном контексте, часто на продвинутом уровне. Знание того, как работает код, просто предполагается. Мы должны пройти курс Advanced Calculus и объяснить множители Legrange, зная простую алгебру.
- **Код не следует пошаговой парадигме.** Основная парадигма, которой следуют большинство технических писателей, - это модель, основанная на задачах, где вы начинаете с шагов 1, 2, 3 и так далее, пока не достигнете конца задачи. Это не относится к документации по коду. Код является нелинейным по своей природе, поэтому нельзя просто начать сверху и перейти к нижней части. Могут быть лучшие практики, дополнительные методы, списки параметров, концептуальные объяснения в сочетании с другими деталями и многое другое. Стратегия документирования кода состоит в том, чтобы представить полный пример кода, за которым следуют разделы, которые объясняют различные аспекты кода. Такой подход очень отличается от процедурного подхода, обычно применяемого в технических документах.
- **Понимание кода требует определения технического уровня вашей аудитории.** Технический писатель  должен писать в соответствии с уровнем знаний своей аудитории, даже если технические уровни разных аудиторий сильно различаются. Документация обычно либо переписывается для продвинутых разработчиков, объясняя очевидное, либо отталкивает менее опытных разработчиков, поясняя слишком много. Реализация прогрессивных моделей раскрытия информации может быть сложной. Даже если аудитория технически грамотная, она не гарантирует, что у нее есть опыт в конкретной технологии, которая документируется. В результате, мы, технические писатели, часто представляем себя аудиторией.
- **Правильное форматирование кода и обращение к различным строкам также является проблемой.** Хочется применить подсветку синтаксиса кода, основанную на языке кода и хорошее форматирование кода для этого языка, которое следует стандартным соглашениям на этом языке. Если есть 50-100 строк кода, ссылки на различные аспекты кода также могут быть сложными - можно попробовать ссылаться на номера строк, если они есть в примерах, но у такого подхода есть свои проблемы. Вы переносите код или позволяете пользователю прокручивать по горизонтали? Сколько кода со встроенными комментариями, написанными для опытного программиста, а не систематического программиста, который начинает с первой страницы?
- **Отслеживание работы примеров кода от релиза к релизу потребует работы контроля качества и обслуживания.** Если есть примеры кода, перенесенные в документацию, а не извлеченные из центрального репозитория, может быть сложно даже определить весь код, который нужно протестировать и поддерживать. Проверяется ли это с каждым выпуском? Насколько тестируемым будет код? Некоторый код может просто выполняться достаточно легко, а какой-то может потребовать создания примеров приложений или установки других технических сред, для работы. И возможно, придется добавить контекстный код, чтобы код мог реально работать, возможно, даже создавая пример данных или другую информацию, чтобы можно было вернуть правильные значения.
- **У инженеров гораздо лучше наметан глаз на хороший и плохой код.** Можно даже не осознавать, что ваш код плохой. Помните, что инженеры живут и дышат кодом, и многие считают, что код - это поэзия. Эффективная техника в коде (например, рекурсивные циклы, которые расширяют ресурсы по мере необходимости) может быть прекрасной, вызывая эстетику в уме инженера. Маловероятно, что технический писатель будет подходить к коду с таким же почтением и благоговением. Более приземленный подход к коду может затруднить учет того же отношения и точки зрения, которые пользователи имеют к этой теме.

Вот некоторые из проблем, связанных с документированием кода. В разделах этого модуля будет рассказано о каждой из этих проблем более подробно. Хоть тема может показаться пугающей, но если примеры кода являются наиболее важным элементом хорошей документации по API, мы должны углубиться в это. 
